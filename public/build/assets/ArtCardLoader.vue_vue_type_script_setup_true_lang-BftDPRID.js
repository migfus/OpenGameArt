import{d as S,J as R,M as U,N as F,o as l,c as n,a as e,z as v,t as m,F as L,f as D,j as b,D as z,w as x,b as u,g as r,O as d,h as f,P as i,Q as I,T as P,B as O,R as h,n as q,E as J,S as Q,U as W,V as y,k as Y,W as G}from"./app-Dd9AuyYu.js";const K={class:h(["flex flex-col gap-2 cursor-pointer group relative"])},X={class:h(["w-full h-38 relative bg-cover rounded-2xl border-2 border-brand-950 flex flex-col justify-end z-10 bg-dark-001 cursor-default"])},Z={key:0,class:"bg-brand-950/50 absolute -z-10 h-full w-full"},ee=["src"],te=["href"],se={key:0,class:"grid grid-cols-2 gap-1 bg-dark-001 w-full"},le=["src"],ne=["src"],ae=["src"],re=["src"],oe={class:"absolute bottom-4 right-10 text-md text-light-002 bg-brand-950/75 size-12 rounded-full flex items-center justify-center"},ie={key:1,class:"grid grid-cols-2 gap-1 bg-dark-001 w-full"},de=["src"],ue=["src"],ce=["src"],me=["src"],fe={key:2,class:"grid grid-cols-2 gap-1 bg-dark-001 h-full w-full"},ve=["src"],ge=["src"],be=["src"],xe={key:3,class:"grid grid-cols-2 gap-1 h-full"},he=["src"],we={key:4,class:"w-full h-full"},ye=["src"],pe={class:"flex flex-col h-full justify-between"},ke={class:"p-2 flex gap-1 justify-end relative"},_e={key:0,class:"bg-brand-950 px-2 rounded-xl text-sm"},ze={key:1,class:"bg-brand-950 px-2 rounded-xl text-sm h-4 w-8"},je={key:0,class:"flex justify-center"},Te=["href"],$e=["src"],Me={key:2,class:"absolute size-18 rounded-full border-b-4 border-[#b7a6d4] animate-spin -z-10 blur-sm"},Ae={ref:"waveform"},Ce=["href"],Ee={class:"flex gap-2 truncate"},Le=["src"],De={class:"text-sm font-semibold truncate text-brand-200/75 group-hover:text-brand-200 transition-all"},Oe={class:"flex items-center gap-2"},Se={key:0,class:"flex items-center gap-1"},Be={class:"text-sm"},Ne={key:1,class:"flex items-center gap-1"},He={class:"text-sm"},Ve={key:2,class:"p-2 flex gap-1 bg-linear-to-t from-brand-950 to-transparent rounded-b-xl flex-none"},Re=["href"],Ue={class:"flex flex-col gap-1 grow h-24"},Fe={class:"flex justify-between gap-2"},Ie={class:"font-bold truncate"},Pe=["innerHTML"],qe={key:1,class:"rounded-lg flex gap-1 flex-col mt-2"},Je={key:0,class:"flex justify-between items-center gap-2 text-light-001/75"},Qe={class:"flex gap-2 items-center text-sm truncate"},We=["src"],Ye=["innerHTML"],Ge={class:"flex gap-1 items-center text-sm ml-2"},Ke={key:1,class:"flex justify-between items-center gap-2 text-light-001/25"},Xe={key:2,class:"flex justify-between items-center gap-2 text-light-001/75 animate-pulse"},Ze={key:0,class:"flex justify-center"},et={class:"text-light-001 max-h-33 overflow-y-scroll gap-1 flex flex-col"},tt=["onClick"],st={class:"flex gap-2 items-center"},lt={class:"line-clamp-1"},nt={key:0,class:"flex justify-center"},at={class:"flex justify-between py-2 text-brand-300 px-4 items-center gap-2"},rt={class:"truncate w-42 flex flex-col"},ot={class:"font-semibold truncate"},it={class:"flex gap-1 items-center"},dt=["src"],ut={class:"font-semibold truncate text-sm"},ct=["href"],mt={class:"flex gap-2 items-center w-42 justify-end"},ft={key:0,class:"flex items-center gap-1"},vt={class:"text-sm"},gt={key:1,class:"flex items-center gap-1"},bt={class:"text-sm"},xt={class:"text-brand-100 px-4"},ht={key:0,class:"flex justify-between items-center gap-2 text-light-001/75"},wt={class:"flex gap-2 items-center text-sm truncate"},yt=["src"],pt=["innerHTML"],kt={class:"flex gap-1 items-center text-sm ml-2"},_t={key:1,class:"flex justify-between items-center gap-2 text-light-001/25"},zt={class:"space-y-2 px-4"},jt={class:"relative w-full h-6 md:h-4 bg-dark-001 rounded-full p-1"},Tt=["max"],Et=S({__name:"ArtCard",props:{art:{},idx:{}},emits:["pauseAllAudio"],setup(t,{emit:B}){const o=W("audioRef"),g=y(!1),j=y(0),w=y(0),p=y(""),k=y(!1);let M=0;const N=Y(()=>t.art.art_previews.length>0&&t.art.art_previews.filter(c=>c.art_preview_category.name=="image").length>0?t.art.art_previews.filter(c=>c.art_preview_category.name=="image")[0].url:t.art.user?.image_url),A=()=>{const c=window.scrollY;c>M?k.value=!1:k.value=!0,M=c};async function T(c){c&&(p.value=c,await G()),o.value?(o.value.play(),g.value=!0,window.dispatchEvent(new CustomEvent("pauseAllAudio",{detail:{idx:t.idx}}))):console.log("playAudio() error")}function C(c){c?.detail?.idx!==t.idx&&$()}function $(){o.value&&(o.value.pause(),g.value=!1)}function E(){o.value&&(o.value.currentTime=0)}function H(c=10){if(o.value){const s=o.value.duration;if(!isFinite(s))return;o.value.currentTime=Math.min((o.value.currentTime||0)+c,s)}}function V(){o.value&&(o.value.currentTime=w.value)}return R(()=>{window.addEventListener("pauseAllAudio",C),window.addEventListener("scroll",A),o.value&&(o.value.addEventListener("loadedmetadata",()=>{j.value=o.value?.duration||0}),o.value.addEventListener("timeupdate",()=>{w.value=o.value?.currentTime||0}))}),U(()=>{window.removeEventListener("pauseAllAudio",C)}),F(()=>window.removeEventListener("scroll",A)),(c,s)=>(l(),n("div",K,[e("div",X,[t.art.art_category.name=="Music"||t.art.art_category.name=="Sound Effect"?(l(),n("div",Z)):v("",!0),t.art.art_category.name=="Music"||t.art.art_category.name=="Sound Effect"?(l(),n("img",{key:1,src:N.value,class:"bg-brand-950/50 absolute -z-10 h-full w-full object-cover rounded-2xl"},null,8,ee)):(l(),n("a",{key:2,href:`https://opengameart.org/content/${t.art.id}`,class:"bg-brand-950/50 -z-10 h-38 w-full object-cover rounded-2xl flex absolute"},[t.art.art_previews.length>4?(l(),n("div",se,[e("img",{src:t.art.art_previews[0].url,class:"object-cover w-full h-18 rounded-tl-2xl"},null,8,le),e("img",{src:t.art.art_previews[1].url,class:"object-cover w-full h-18 rounded-tr-2xl"},null,8,ne),e("img",{src:t.art.art_previews[2].url,class:"object-cover w-full h-18 rounded-bl-2xl"},null,8,ae),e("img",{src:t.art.art_previews[3].url,class:"object-cover w-full h-18 rounded-br-2xl"},null,8,re),e("div",oe,[e("p",null,"+"+m(t.art.art_previews.length-4),1)])])):t.art.art_previews.length==4?(l(),n("div",ie,[e("img",{src:t.art.art_previews[0].url,class:"object-cover w-full h-18 rounded-tl-2xl"},null,8,de),e("img",{src:t.art.art_previews[1].url,class:"object-cover w-full h-18 rounded-tr-2xl"},null,8,ue),e("img",{src:t.art.art_previews[2].url,class:"object-cover w-full h-18 rounded-bl-2xl"},null,8,ce),e("img",{src:t.art.art_previews[3].url,class:"object-cover w-full h-18 rounded-br-2xl"},null,8,me)])):t.art.art_previews.length==3?(l(),n("div",fe,[e("img",{src:t.art.art_previews[0].url,class:"object-cover w-full h-full rounded-l-2xl row-span-2"},null,8,ve),e("img",{src:t.art.art_previews[1].url,class:"object-cover w-full h-18 rounded-tr-2xl"},null,8,ge),e("img",{src:t.art.art_previews[2].url,class:"object-cover w-full h-18 rounded-br-2xl"},null,8,be)])):t.art.art_previews.length==2?(l(),n("div",xe,[(l(!0),n(L,null,D(t.art.art_previews,a=>(l(),n("img",{src:a.url,class:"object-cover w-full h-full first:rounded-l-2xl last:rounded-r-2xl"},null,8,he))),256))])):(l(),n("div",we,[e("img",{src:t.art.art_previews[0].url,class:"h-full w-full object-cover rounded-2xl"},null,8,ye)]))],8,te)),e("div",pe,[e("div",ke,[t.art.art_category?(l(),n("p",_e,m(t.art.art_category.name),1)):(l(),n("p",ze))]),t.art.art_category?.name=="Music"||t.art.art_category?.name=="Sound Effect"?(l(),n("div",je,[g.value?(l(),b(z,{key:0,class:"flex gap-2 items-center cursor-pointer"},{default:x(()=>[u(r(d),{icon:"memory:rotate-counterclockwise",class:"size-12 bg-brand-900/90 backdrop-blur-sm rounded-full hover:scale-110 transition-all p-2",onClick:s[0]||(s[0]=i(a=>E(),["stop"])),onMousedown:s[1]||(s[1]=i(()=>{},["stop"])),style:{animationDelay:"100ms",transitionDelay:"100ms"},onAnimationendOnce:r(f),onTransitionendOnce:r(f)},null,8,["onAnimationendOnce","onTransitionendOnce"]),u(r(d),{icon:"memory:pause",class:"size-18 bg-brand-900/90 backdrop-blur-sm rounded-full hover:scale-110 transition-all p-2",onClick:s[2]||(s[2]=i(a=>$(),["stop"])),onMousedown:s[3]||(s[3]=i(()=>{},["stop"]))}),e("a",{href:`https://opengameart.org/content/${t.art.id}`,class:"transition-all",style:{animationDelay:"200ms",transitionDelay:"200ms"},onAnimationendOnce:s[6]||(s[6]=(...a)=>r(f)&&r(f)(...a)),onTransitionendOnce:s[7]||(s[7]=(...a)=>r(f)&&r(f)(...a))},[u(r(d),{icon:"memory:arrow-right-box",class:"size-12 bg-brand-900/90 backdrop-blur-sm rounded-full hover:scale-110 transition-all p-2",onClick:s[4]||(s[4]=i(a=>H(),["stop"])),onMousedown:s[5]||(s[5]=i(()=>{},["stop"]))})],40,Te)]),_:1})):(l(),b(r(d),{key:1,icon:"memory:play",class:"size-18 bg-brand-900/90 backdrop-blur-sm rounded-full hover:scale-110 transition-all p-2 cursor-pointer",onClick:s[8]||(s[8]=i(a=>T(t.art.art_previews[0].url),["stop"])),onMousedown:s[9]||(s[9]=i(()=>{},["stop"]))})),e("audio",{ref_key:"audioRef",ref:o,src:p.value},null,8,$e),g.value?(l(),n("div",Me)):v("",!0),e("div",Ae,null,512)])):v("",!0),t.art.user?(l(),n("a",{key:1,href:`https://opengameart.org/users/${t.art.user.url_username}`,class:"p-2 flex gap-1 bg-linear-to-t from-dark-001 to-transparent rounded-b-xl justify-between h-12 items-end"},[e("div",Ee,[e("img",{src:t.art.user.image_url,class:"size-5 rounded-full border border-brand-950"},null,8,Le),e("p",De,m(t.art.user?.username),1)]),e("div",Oe,[t.art.favorites_count?(l(),n("div",Se,[e("p",Be,m(t.art.favorites_count),1),u(r(d),{icon:"memory:heart",class:"size-3"})])):v("",!0),t.art.files.length>0?(l(),n("div",Ne,[e("p",He,m(t.art.files.reduce((a,_)=>a+_.download_count,0)),1),u(r(d),{icon:"memory:arrow-down-bold",class:"size-3"})])):v("",!0)])],8,Ce)):(l(),n("div",Ve,[...s[21]||(s[21]=[e("div",{class:"size-5 rounded-full bg-brand-950 animate-pulse"},null,-1),e("div",{class:"animate-pulse bg-red-700 rounded-xl h-4"},null,-1)])]))])]),e("a",{href:`https://opengameart.org/content/${t.art.id}`,class:"flex flex-col z-10 justify-between"},[e("div",Ue,[e("div",Fe,[e("p",Ie,m(t.art.title),1)]),t.art.content?(l(),n("div",{key:0,class:"line-clamp-3 text-brand-200/50 group-hover:text-brand-200/75 transition-all text-sm",innerHTML:t.art.content},null,8,Pe)):(l(),n("div",qe,[...s[22]||(s[22]=[e("div",{class:"h-4 rounded-lg w-ful bg-brand-950 animate-pulse group-hover:bg-dark-001 transition-all"},null,-1),e("div",{class:"h-4 rounded-lg w-full bg-brand-950 animate-pulse group-hover:bg-dark-001 transition-all"},null,-1),e("div",{class:"h-4 rounded-lg w-full bg-brand-950 animate-pulse group-hover:bg-dark-001 transition-all"},null,-1)])]))]),t.art.art_comments.length>0?(l(),n("div",Je,[e("div",Qe,[e("img",{src:t.art.art_comments[t.art.art_comments.length-1].user.image_url,class:"rounded-full size-4"},null,8,We),e("div",{class:"line-clamp-1 animate-maruyq",innerHTML:t.art.art_comments[t.art.art_comments.length-1].content},null,8,Ye)]),e("div",Ge,[e("p",null,m(t.art.art_comments.length),1),u(r(d),{icon:"memory:comment-text",class:"size-4"})])])):(l(),n("div",Ke,[...s[23]||(s[23]=[e("div",{class:"flex gap-1 items-center text-sm truncate"},[e("p",{class:"truncate"},"No comments.")],-1)])])),t.art.user?v("",!0):(l(),n("div",Xe,[...s[24]||(s[24]=[I('<div class="flex gap-1 items-center w-full"><div class="size-4 bg-brand-950 rounded-full"></div><div class="truncate h-4 bg-brand-950 rounded-2xl w-full"></div></div><div class="flex gap-1 items-center text-sm"><div class="size-4 bg-brand-950 w-6 rounded-2xl"></div><div class="size-4 bg-brand-950 rounded-full"></div></div>',2)])]))],8,Re),s[25]||(s[25]=e("div",{class:"absolute h-full w-full rounded-2xl group-hover:bg-brand-950 transition-all group-hover:scale-[110%] z-0"},null,-1)),(l(),b(P,{to:"body"},[e("div",null,[u(O,null,{default:x(()=>[g.value&&t.art.art_previews.length>1?(l(),n("div",Ze,[e("div",{class:h([k.value&&g.value?"translate-y-0 ":"translate-y-16 md:translate-y-0","fixed bg-brand-950/90 backdrop-blur-sm w-full py-6 px-3 z-10 flex flex-col gap-2 transition-all md:rounded-2xl md:w-xl bottom-51 md:bottom-35"])},[e("div",et,[(l(!0),n(L,null,D(t.art.art_previews.filter(a=>a.art_preview_category.name=="audio"),a=>(l(),n("div",{onClick:i(_=>T(a.url),["stop"]),class:h([p.value==a.url?"bg-dark-001/50":"","flex gap-2 items-center hover:bg-dark-001/50 transition-all px-3 py-2 rounded-2xl group justify-between cursor-pointer "])},[e("div",st,[p.value==a.url?(l(),b(r(d),{key:0,icon:"memory:pause",class:"size-8 bg-dark-001 rounded-full hover:scale-110 transition-all p-2 cursor-pointer group-hover:bg-brand-950 flex-none",onMousedown:s[10]||(s[10]=i(()=>{},["stop"]))})):(l(),b(r(d),{key:1,icon:"memory:play",class:"size-8 bg-dark-001 rounded-full hover:scale-110 transition-all p-2 cursor-pointer group-hover:bg-brand-950 flex-none",onMousedown:s[11]||(s[11]=i(()=>{},["stop"]))})),e("p",lt,m(a.url.split("/").pop()),1)])],10,tt))),256))])],2)])):v("",!0)]),_:1}),u(O,null,{default:x(()=>[g.value?(l(),n("div",nt,[e("div",{class:h([k.value&&g.value?"translate-y-0 ":"translate-y-16 md:translate-y-0","fixed bg-brand-950/90 backdrop-blur-sm w-full h-50 md:h-34 bottom-0 z-10 flex flex-col gap-2 transition-all md:rounded-t-2xl md:w-xl"])},[e("div",at,[e("div",rt,[e("p",ot,m(t.art.title),1),e("div",it,[e("img",{src:t.art.user?.image_url,class:"size-4 rounded-full"},null,8,dt),e("p",ut,m(t.art.user?.username),1)])]),g.value?(l(),b(z,{key:0,class:"flex gap-2 items-center cursor-pointer mx-auto"},{default:x(()=>[u(r(d),{icon:"memory:rotate-counterclockwise",class:"size-10 text-brand-200 bg-dark-001 rounded-full hover:scale-110 transition-all p-2",onClick:s[12]||(s[12]=i(a=>E(),["stop"])),onMousedown:s[13]||(s[13]=i(()=>{},["stop"])),style:{animationDelay:"200ms",transitionDelay:"200ms"},onAnimationendOnce:r(f),onTransitionendOnce:r(f)},null,8,["onAnimationendOnce","onTransitionendOnce"]),u(r(d),{icon:"memory:pause",class:"size-12 bg-dark-001 text-brand-200 rounded-full hover:scale-110 transition-all p-2",onClick:s[14]||(s[14]=i(a=>$(),["stop"])),onMousedown:s[15]||(s[15]=i(()=>{},["stop"]))}),e("a",{href:t.art.id,class:"transition-all",style:{animationDelay:"200ms",transitionDelay:"200ms"},onAnimationendOnce:s[16]||(s[16]=(...a)=>r(f)&&r(f)(...a)),onTransitionendOnce:s[17]||(s[17]=(...a)=>r(f)&&r(f)(...a))},[u(r(d),{icon:"memory:arrow-right-box",class:"size-10 bg-dark-001 text-brand-200 rounded-full hover:scale-110 transition-all p-2"})],40,ct)]),_:1})):(l(),b(r(d),{key:1,icon:"memory:play",class:"size-18 bg-brand-950 rounded-full hover:scale-110 transition-all p-2",onClick:s[18]||(s[18]=i(a=>T(),["stop"])),onMousedown:s[19]||(s[19]=i(()=>{},["stop"]))})),e("div",mt,[t.art.favorites_count?(l(),n("div",ft,[e("p",vt,m(t.art.favorites_count),1),u(r(d),{icon:"memory:heart",class:"size-4"})])):v("",!0),t.art.files.length>0?(l(),n("div",gt,[e("p",bt,m(t.art.files.reduce((a,_)=>a+_.download_count,0)),1),u(r(d),{icon:"memory:arrow-down-bold",class:"size-4"})])):v("",!0)])]),e("div",xt,[t.art.art_comments.length>0?(l(),n("div",ht,[e("div",wt,[e("img",{src:t.art.art_comments[t.art.art_comments.length-1].user.image_url,class:"rounded-full size-4"},null,8,yt),e("div",{class:"line-clamp-1",innerHTML:t.art.art_comments[t.art.art_comments.length-1].content},null,8,pt)]),e("div",kt,[e("p",null,m(t.art.art_comments.length),1),u(r(d),{icon:"memory:comment-text",class:"size-4"})])])):(l(),n("div",_t,"No Comments"))]),e("div",zt,[e("div",jt,[e("div",{class:h(["absolute left-0 top-1 bottom-1 bg-brand-300 rounded-full"]),style:q({width:`${w.value/j.value*100}%`})},null,4),J(e("input",{type:"range",min:"0",max:j.value,step:"0.01","onUpdate:modelValue":s[20]||(s[20]=a=>w.value=a),onInput:V,class:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"},null,40,Tt),[[Q,w.value]])])])],2)])):v("",!0)]),_:1})])]))]))}}),$t={class:"flex flex-col gap-2"},Mt={class:"w-full h-38 relative bg-cover rounded-2xl border-2 border-brand-950 flex flex-col justify-end"},At={class:"flex flex-col h-full justify-between"},Lt=S({__name:"ArtCardLoader",setup(t){return(B,o)=>(l(),n("div",$t,[e("div",Mt,[e("div",At,[o[1]||(o[1]=e("div",{class:"p-2 flex gap-1 justify-end relative"},[e("p",{class:"bg-brand-950 px-2 rounded-xl text-sm animate-pulse h-5 w-16"})],-1)),u(z,{class:"p-2 flex gap-1 rounded-b-xl flex-none"},{default:x(()=>[...o[0]||(o[0]=[e("div",{class:"size-5 rounded-full border border-brand-950 bg-brand-950"},null,-1),e("p",{class:"text-sm font-semibold truncate h-5 w-16 bg-brand-950 rounded-xl"},null,-1)])]),_:1})])]),u(z,{class:"flex flex-col gap-2"},{default:x(()=>[...o[2]||(o[2]=[e("p",{class:"font-bold truncate h-6 w-32 bg-brand-950 rounded-xl"},null,-1),e("p",{class:"h-6 bg-brand-950/75 rounded-xl"},null,-1),e("p",{class:"h-6 bg-brand-950/75 rounded-xl"},null,-1)])]),_:1})]))}});export{Lt as _,Et as a};
