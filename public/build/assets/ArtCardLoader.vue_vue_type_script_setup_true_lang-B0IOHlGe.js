import{d as S,N as R,C as U,O as F,E as I,o as s,c as n,a as e,z as v,t as f,F as D,f as L,j as b,w as x,b as u,g as r,P as d,h as m,L as i,D as j,Q as P,B as O,R as h,n as q,H as Q,S as Y,T as G,U as y,k as J,V as K}from"./app-BpI_i3Q8.js";const W={class:h(["flex flex-col gap-8 cursor-pointer group relative"])},X={class:h(["w-full h-38 relative bg-cover rounded-2xl border-2 border-brand-950 flex flex-col justify-end z-10 bg-dark-001 cursor-default"])},Z={key:0,class:"absolute h-full w-full"},ee=["src"],te=["href"],le={class:"absolute bottom-0"},se=["src"],ne={key:0,class:"grid grid-cols-2 gap-1 w-full"},ae={class:"rounded-tl-2xl overflow-hidden"},re=["src"],oe={class:"rounded-tr-2xl overflow-hidden"},ie=["src"],de={class:"rounded-bl-2xl overflow-hidden"},ue=["src"],ce={class:"rounded-br-2xl overflow-hidden relative"},fe=["src"],me={class:"absolute top-0 w-full h-full text-md text-light-002 bg-brand-950/75 size-12 rounded-br-2xl flex items-center justify-center"},ve={key:1,class:"grid grid-cols-2 gap-1 w-full"},ge=["src"],be=["src"],xe=["src"],he=["src"],we={key:2,class:"grid grid-cols-2 gap-1 h-full w-full"},ye={class:"rounded-l-2xl overflow-hidden row-span-2"},pe=["src"],_e={class:"rounded-tr-2xl overflow-hidden"},ke=["src"],je={class:"rounded-br-2xl overflow-hidden"},ze=["src"],$e={key:3,class:"grid grid-cols-2 gap-1 h-full w-full"},Te={class:"first:rounded-l-2xl last:rounded-r-2xl overflow-hidden"},Ae=["src"],Me={key:4,class:"w-full h-full overflow-hidden rounded-2xl"},Ce=["src"],Ee={class:"flex flex-col h-full justify-between"},De={class:"p-2 flex gap-1 justify-end relative"},Le={key:0,class:"bg-brand-950/70 px-2 rounded-xl text-xs font-semibold py-1 backdrop-blur-lg"},Oe={key:1,class:"bg-brand-950 px-2 rounded-xl text-sm h-4 w-8"},Se={key:0,class:"flex justify-center"},Be=["href"],Ne=["src"],Ve={key:2,class:"absolute size-18 rounded-full border-b-4 border-[#b7a6d4] animate-spin -z-10 blur-sm"},He={ref:"waveform"},Re=["href"],Ue={class:"flex gap-2 truncate"},Fe=["src"],Ie={class:"text-sm font-semibold truncate text-brand-200/75 group-hover:text-brand-200 transition-all"},Pe={class:"flex items-center gap-2"},qe={key:0,class:"flex items-center gap-1"},Qe={class:"text-sm"},Ye={key:1,class:"flex items-center gap-1"},Ge={class:"text-sm"},Je={key:2,class:"p-2 flex gap-1 bg-linear-to-t from-brand-950 to-transparent rounded-b-xl flex-none"},Ke=["href"],We={class:"flex flex-col gap-1 grow h-24"},Xe={class:"flex justify-between gap-2"},Ze={class:"font-bold truncate"},et=["innerHTML"],tt={key:1,class:"rounded-lg flex gap-1 flex-col mt-2"},lt={key:0,class:"flex justify-between items-center gap-2 text-light-001/75"},st={class:"flex gap-2 items-center text-sm truncate"},nt=["src"],at=["innerHTML"],rt={class:"flex gap-1 items-center text-sm ml-2"},ot={key:1,class:"flex justify-between items-center gap-2 text-light-001/25"},it={key:2,class:"flex justify-between items-center gap-2 text-light-001/75 animate-pulse"},dt={key:0,class:"flex justify-center"},ut={class:"text-light-001 max-h-33 overflow-y-scroll gap-1 flex flex-col scrollbar-hide"},ct=["onClick"],ft={class:"flex gap-2 items-center"},mt={class:"line-clamp-1"},vt={key:0,class:"flex justify-center"},gt={class:"flex justify-between py-2 text-brand-300 px-4 items-center gap-2"},bt={class:"truncate w-42 flex flex-col"},xt={class:"font-semibold truncate"},ht={class:"flex gap-1 items-center"},wt=["src"],yt={class:"font-semibold truncate text-sm"},pt=["href"],_t={class:"flex gap-2 items-center w-42 justify-end"},kt={key:0,class:"flex items-center gap-1"},jt={class:"text-sm"},zt={key:1,class:"flex items-center gap-1"},$t={class:"text-sm"},Tt={class:"space-y-2 px-4"},At={class:"relative w-full h-6 md:h-4 bg-dark-001 rounded-full p-1"},Mt=["max"],Ot=S({__name:"ArtCard",props:{art:{},idx:{}},emits:["pauseAllAudio"],setup(t,{emit:B}){const o=R("audioRef"),g=y(!1),z=y(0),w=y(0),p=y(""),_=y(!1);let A=0;const N=J(()=>t.art.art_previews.length>0&&t.art.art_previews.filter(c=>c.art_preview_category.name=="image").length>0?t.art.art_previews.filter(c=>c.art_preview_category.name=="image")[0].url:t.art.user?.image_url),M=()=>{const c=window.scrollY;c>A?_.value=!1:_.value=!0,A=c};async function $(c){c&&(p.value=c,await K()),o.value?(o.value.play(),g.value=!0,window.dispatchEvent(new CustomEvent("pauseAllAudio",{detail:{idx:t.idx}}))):console.log("playAudio() error")}function C(c){c?.detail?.idx!==t.idx&&T()}function T(){o.value&&(o.value.pause(),g.value=!1)}function E(){o.value&&(o.value.currentTime=0)}function V(c=10){if(o.value){const l=o.value.duration;if(!isFinite(l))return;o.value.currentTime=Math.min((o.value.currentTime||0)+c,l)}}function H(){o.value&&(o.value.currentTime=w.value)}return U(()=>{window.addEventListener("pauseAllAudio",C),window.addEventListener("scroll",M),o.value&&(o.value.addEventListener("loadedmetadata",()=>{z.value=o.value?.duration||0}),o.value.addEventListener("timeupdate",()=>{w.value=o.value?.currentTime||0}))}),F(()=>{window.removeEventListener("pauseAllAudio",C)}),I(()=>window.removeEventListener("scroll",M)),(c,l)=>(s(),n("div",W,[e("div",X,[t.art.art_category.name=="Music"||t.art.art_category.name=="Sound Effect"?(s(),n("div",Z,[e("img",{src:t.art.user?.image_url,class:"w-full h-full object-cove rounded-2xl"},null,8,ee)])):t.art.art_previews.length>0?(s(),n("a",{key:1,href:`https://opengameart.org/content/${t.art.id}`,class:"bg-brand-950/50 h-38 w-full object-cover rounded-2xl flex absolute"},[e("div",le,[t.art.art_category.name=="Music"||t.art.art_category.name=="Sound Effect"?(s(),n("img",{key:0,src:N.value,class:"absolute h-full w-full object-cover rounded-2xl z-10"},null,8,se)):v("",!0)]),t.art.art_previews.length>4?(s(),n("div",ne,[e("div",ae,[e("img",{src:t.art.art_previews[0].url,class:"object-cover w-full h-full pixelated-img"},null,8,re)]),e("div",oe,[e("img",{src:t.art.art_previews[1].url,class:"object-cover w-full h-full pixelated-img"},null,8,ie)]),e("div",de,[e("img",{src:t.art.art_previews[2].url,class:"object-cover w-full h-full rounded-bl-2xl pixelated-img"},null,8,ue)]),e("div",ce,[e("img",{src:t.art.art_previews[3].url,class:"object-cover w-full h-full rounded-br-2xl pixelated-img"},null,8,fe),e("div",me,[e("p",null,"+"+f(t.art.art_previews.length-4),1)])])])):t.art.art_previews.length==4?(s(),n("div",ve,[e("img",{src:t.art.art_previews[0].url,class:"object-cover w-full h-18 rounded-tl-2xl pixelated-img"},null,8,ge),e("img",{src:t.art.art_previews[1].url,class:"object-cover w-full h-18 rounded-tr-2xl pixelated-img"},null,8,be),e("img",{src:t.art.art_previews[2].url,class:"object-cover w-full h-18 rounded-bl-2xl pixelated-img"},null,8,xe),e("img",{src:t.art.art_previews[3].url,class:"object-cover w-full h-18 rounded-br-2xl pixelated-img"},null,8,he)])):t.art.art_previews.length==3?(s(),n("div",we,[e("div",ye,[e("img",{src:t.art.art_previews[0].url,class:"row-span-2 pixelated-img w-full h-full object-cover"},null,8,pe)]),e("div",_e,[e("img",{src:t.art.art_previews[1].url,class:"object-cover w-full h-full pixelated-img"},null,8,ke)]),e("div",je,[e("img",{src:t.art.art_previews[2].url,class:"object-cover w-full h-full pixelated-img"},null,8,ze)])])):t.art.art_previews.length==2?(s(),n("div",$e,[(s(!0),n(D,null,L(t.art.art_previews,a=>(s(),n("div",Te,[e("img",{src:a.url,class:"w-full h-full object-cover pixelated-img"},null,8,Ae)]))),256))])):(s(),n("div",Me,[e("img",{src:t.art.art_previews[0].url,class:"h-full w-full object-cover pixelated-img"},null,8,Ce)]))],8,te)):v("",!0),e("div",Ee,[e("div",De,[t.art.art_category?(s(),n("p",Le,f(t.art.art_category.name),1)):(s(),n("p",Oe))]),t.art.art_category?.name=="Music"||t.art.art_category?.name=="Sound Effect"?(s(),n("div",Se,[g.value?(s(),b(j,{key:0,class:"flex gap-2 items-center cursor-pointer"},{default:x(()=>[u(r(d),{icon:"memory:rotate-counterclockwise",class:"size-12 bg-brand-900/90 backdrop-blur-sm rounded-full hover:scale-110 transition-all p-2",onClick:l[0]||(l[0]=i(a=>E(),["stop"])),onMousedown:l[1]||(l[1]=i(()=>{},["stop"])),style:{animationDelay:"100ms",transitionDelay:"100ms"},onAnimationendOnce:r(m),onTransitionendOnce:r(m)},null,8,["onAnimationendOnce","onTransitionendOnce"]),u(r(d),{icon:"memory:pause",class:"size-18 bg-brand-900/90 backdrop-blur-sm rounded-full hover:scale-110 transition-all p-2",onClick:l[2]||(l[2]=i(a=>T(),["stop"])),onMousedown:l[3]||(l[3]=i(()=>{},["stop"]))}),e("a",{href:`https://opengameart.org/content/${t.art.id}`,class:"transition-all",style:{animationDelay:"200ms",transitionDelay:"200ms"},onAnimationendOnce:l[6]||(l[6]=(...a)=>r(m)&&r(m)(...a)),onTransitionendOnce:l[7]||(l[7]=(...a)=>r(m)&&r(m)(...a))},[u(r(d),{icon:"memory:arrow-right-box",class:"size-12 bg-brand-900/90 backdrop-blur-sm rounded-full hover:scale-110 transition-all p-2",onClick:l[4]||(l[4]=i(a=>V(),["stop"])),onMousedown:l[5]||(l[5]=i(()=>{},["stop"]))})],40,Be)]),_:1})):(s(),b(r(d),{key:1,icon:"memory:play",class:"size-18 bg-brand-900/90 backdrop-blur-sm rounded-full hover:scale-110 transition-all p-2 cursor-pointer",onClick:l[8]||(l[8]=i(a=>$(t.art.art_previews[0].url),["stop"])),onMousedown:l[9]||(l[9]=i(()=>{},["stop"]))})),e("audio",{ref_key:"audioRef",ref:o,src:p.value},null,8,Ne),g.value?(s(),n("div",Ve)):v("",!0),e("div",He,null,512)])):v("",!0),t.art.user?(s(),n("a",{key:1,href:`https://opengameart.org/users/${t.art.user.url_username}`,class:"p-2 flex gap-1 bg-linear-to-t from-dark-001 to-transparent rounded-b-xl justify-between h-12 items-end z-10 hover:from-dark-002 transition-all"},[e("div",Ue,[e("img",{src:t.art.user.image_url,class:"size-5 rounded-full border border-brand-950"},null,8,Fe),e("p",Ie,f(t.art.user?.username),1)]),e("div",Pe,[t.art.favorites_count?(s(),n("div",qe,[e("p",Qe,f(t.art.favorites_count),1),u(r(d),{icon:"memory:heart",class:"size-3"})])):v("",!0),t.art.files.length>0?(s(),n("div",Ye,[e("p",Ge,f(t.art.files.reduce((a,k)=>a+k.download_count,0)),1),u(r(d),{icon:"memory:arrow-down-bold",class:"size-3"})])):v("",!0)])],8,Re)):(s(),n("div",Je,[...l[21]||(l[21]=[e("div",{class:"size-5 rounded-full bg-brand-950 animate-pulse"},null,-1),e("div",{class:"animate-pulse bg-red-700 rounded-xl h-4"},null,-1)])]))])]),e("a",{href:`https://opengameart.org/content/${t.art.id}`,class:"flex flex-col z-10 justify-between"},[e("div",We,[e("div",Xe,[e("p",Ze,f(t.art.title),1)]),t.art.content?(s(),n("div",{key:0,class:"line-clamp-3 text-brand-200/50 group-hover:text-brand-200/75 transition-all text-sm",innerHTML:t.art.content},null,8,et)):(s(),n("div",tt,[...l[22]||(l[22]=[e("div",{class:"h-4 rounded-lg w-ful bg-brand-950 animate-pulse group-hover:bg-dark-001 transition-all"},null,-1),e("div",{class:"h-4 rounded-lg w-full bg-brand-950 animate-pulse group-hover:bg-dark-001 transition-all"},null,-1),e("div",{class:"h-4 rounded-lg w-full bg-brand-950 animate-pulse group-hover:bg-dark-001 transition-all"},null,-1)])]))]),t.art.art_comments.length>0?(s(),n("div",lt,[e("div",st,[e("img",{src:t.art.art_comments[t.art.art_comments.length-1].user.image_url,class:"rounded-full size-4"},null,8,nt),e("div",{class:"line-clamp-1 animate-maruyq",innerHTML:t.art.art_comments[t.art.art_comments.length-1].content},null,8,at)]),e("div",rt,[e("p",null,f(t.art.art_comments.length),1),u(r(d),{icon:"memory:comment-text",class:"size-4"})])])):(s(),n("div",ot,[...l[23]||(l[23]=[e("div",{class:"flex gap-1 items-center text-sm truncate"},[e("p",{class:"truncate"},"No comments.")],-1)])])),t.art.user?v("",!0):(s(),n("div",it,[...l[24]||(l[24]=[P('<div class="flex gap-1 items-center w-full"><div class="size-4 bg-brand-950 rounded-full"></div><div class="truncate h-4 bg-brand-950 rounded-2xl w-full"></div></div><div class="flex gap-1 items-center text-sm"><div class="size-4 bg-brand-950 w-6 rounded-2xl"></div><div class="size-4 bg-brand-950 rounded-full"></div></div>',2)])]))],8,Ke),l[25]||(l[25]=e("div",{class:"absolute h-full w-full rounded-2xl group-hover:bg-brand-950 transition-all group-hover:scale-[110%] z-0"},null,-1)),(s(),b(G,{to:"body"},[e("div",null,[u(O,null,{default:x(()=>[g.value&&t.art.art_previews.length>1?(s(),n("div",dt,[e("div",{class:h([_.value&&g.value?"translate-y-0 ":"translate-y-16 md:translate-y-0","fixed bg-brand-950/90 backdrop-blur-sm w-full py-6 px-3 z-10 flex flex-col gap-2 transition-all md:rounded-2xl md:w-lg bottom-45 md:bottom-25"])},[e("div",ut,[(s(!0),n(D,null,L(t.art.art_previews.filter(a=>a.art_preview_category.name=="audio"),a=>(s(),n("div",{onClick:i(k=>$(a.url),["stop"]),class:h([p.value==a.url?"bg-dark-001/50":"","flex gap-2 items-center hover:bg-dark-001/50 transition-all px-3 py-2 rounded-2xl group justify-between cursor-pointer "])},[e("div",ft,[p.value==a.url?(s(),b(r(d),{key:0,icon:"memory:pause",class:"size-8 bg-dark-001 rounded-full hover:scale-110 transition-all p-2 cursor-pointer group-hover:bg-brand-950 flex-none",onMousedown:l[10]||(l[10]=i(()=>{},["stop"]))})):(s(),b(r(d),{key:1,icon:"memory:play",class:"size-8 bg-dark-001 rounded-full hover:scale-110 transition-all p-2 cursor-pointer group-hover:bg-brand-950 flex-none",onMousedown:l[11]||(l[11]=i(()=>{},["stop"]))})),e("p",mt,f(a.url.split("/").pop()),1)])],10,ct))),256))])],2)])):v("",!0)]),_:1}),u(O,null,{default:x(()=>[g.value?(s(),n("div",vt,[e("div",{class:h([_.value&&g.value?"translate-y-0 ":"translate-y-16 md:translate-y-0","fixed bg-brand-950/90 backdrop-blur-sm w-full h-44 md:h-24 bottom-0 z-10 flex flex-col gap-2 transition-all md:rounded-t-2xl md:w-lg"])},[e("div",gt,[e("div",bt,[e("p",xt,f(t.art.title),1),e("div",ht,[e("img",{src:t.art.user?.image_url,class:"size-4 rounded-full"},null,8,wt),e("p",yt,f(t.art.user?.username),1)])]),g.value?(s(),b(j,{key:0,class:"flex gap-2 items-center cursor-pointer mx-auto"},{default:x(()=>[u(r(d),{icon:"memory:rotate-counterclockwise",class:"size-10 text-brand-200 bg-dark-001 rounded-full hover:scale-110 transition-all p-2",onClick:l[12]||(l[12]=i(a=>E(),["stop"])),onMousedown:l[13]||(l[13]=i(()=>{},["stop"])),style:{animationDelay:"200ms",transitionDelay:"200ms"},onAnimationendOnce:r(m),onTransitionendOnce:r(m)},null,8,["onAnimationendOnce","onTransitionendOnce"]),u(r(d),{icon:"memory:pause",class:"size-12 bg-dark-001 text-brand-200 rounded-full hover:scale-110 transition-all p-2",onClick:l[14]||(l[14]=i(a=>T(),["stop"])),onMousedown:l[15]||(l[15]=i(()=>{},["stop"]))}),e("a",{href:t.art.id,class:"transition-all",style:{animationDelay:"200ms",transitionDelay:"200ms"},onAnimationendOnce:l[16]||(l[16]=(...a)=>r(m)&&r(m)(...a)),onTransitionendOnce:l[17]||(l[17]=(...a)=>r(m)&&r(m)(...a))},[u(r(d),{icon:"memory:arrow-right-box",class:"size-10 bg-dark-001 text-brand-200 rounded-full hover:scale-110 transition-all p-2"})],40,pt)]),_:1})):(s(),b(r(d),{key:1,icon:"memory:play",class:"size-18 bg-brand-950 rounded-full hover:scale-110 transition-all p-2",onClick:l[18]||(l[18]=i(a=>$(),["stop"])),onMousedown:l[19]||(l[19]=i(()=>{},["stop"]))})),e("div",_t,[t.art.favorites_count?(s(),n("div",kt,[e("p",jt,f(t.art.favorites_count),1),u(r(d),{icon:"memory:heart",class:"size-4"})])):v("",!0),t.art.files.length>0?(s(),n("div",zt,[e("p",$t,f(t.art.files.reduce((a,k)=>a+k.download_count,0)),1),u(r(d),{icon:"memory:arrow-down-bold",class:"size-4"})])):v("",!0)])]),e("div",Tt,[e("div",At,[e("div",{class:h(["absolute left-0 top-1 bottom-1 bg-brand-300 rounded-full"]),style:q({width:`${w.value/z.value*100}%`})},null,4),Q(e("input",{type:"range",min:"0",max:z.value,step:"0.01","onUpdate:modelValue":l[20]||(l[20]=a=>w.value=a),onInput:H,class:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"},null,40,Mt),[[Y,w.value]])])])],2)])):v("",!0)]),_:1})])]))]))}}),Ct={class:"flex flex-col gap-2"},Et={class:"w-full h-38 relative bg-cover rounded-2xl border-2 border-brand-950 flex flex-col justify-end"},Dt={class:"flex flex-col h-full justify-between"},St=S({__name:"ArtCardLoader",setup(t){return(B,o)=>(s(),n("div",Ct,[e("div",Et,[e("div",Dt,[o[1]||(o[1]=e("div",{class:"p-2 flex gap-1 justify-end relative"},[e("p",{class:"bg-brand-950 px-2 rounded-xl text-sm animate-pulse h-5 w-16"})],-1)),u(j,{class:"p-2 flex gap-1 rounded-b-xl flex-none"},{default:x(()=>[...o[0]||(o[0]=[e("div",{class:"size-5 rounded-full border border-brand-950 bg-brand-950"},null,-1),e("p",{class:"text-sm font-semibold truncate h-5 w-16 bg-brand-950 rounded-xl"},null,-1)])]),_:1})])]),u(j,{class:"flex flex-col gap-2"},{default:x(()=>[...o[2]||(o[2]=[e("p",{class:"font-bold truncate h-6 w-32 bg-brand-950 rounded-xl"},null,-1),e("p",{class:"h-6 bg-brand-950/75 rounded-xl"},null,-1),e("p",{class:"h-6 bg-brand-950/75 rounded-xl"},null,-1)])]),_:1})]))}});export{St as _,Ot as a};
